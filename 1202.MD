# 프로그래밍언어

## 9장 기억 장소 배당

### 단위프로그램

##### 오프셋(offset)

* 활성레코드에서의 상대위치
* 자료 참조 시 주소 대신 사용
* 새로운 환경 설정(new environment)
* 선언가능 - 지역 식별자 도입


##### 참조 환경(referencing environment)

* 단위 프로그램의 지역 변수 및 사용 가능한 비 지역변수
* 지역변수 : 현재 단위 프로그램 활성 레코드에 할당
* 비지역 변수 : 다른 단위 프로그램 활성 레코드 할당


##### 활성 레코드 바인딩

* 코드부와 해당 활성 레코드의 바인딩
* 재귀 호출(되부름; recursive call) : 활성레코드가 재귀적으로 발생 → 동적 바인딩
* 재귀 호출 불허용 : 활성 레코드가 1개만 존재 → 정적 바인딩

##### 정적 할당의 대표적 언어
* COBOL, FORTRAN, BASIC 등

##### 정적 할당을 수행하는 Fortran77의 특징
* 하나의 주 프로그램과 몇 개의 부 프로그램으로 구성
* 기억장소 총 용량 – 번역시간에 계산(실행시간에 변하지 않음)
* 부프로그램 - 분리 컴파일 가능
* 활성 레코드 - 실행 전에 할당하여 실행 종료 시까지 유지
* 정적 변수(static variable) : 번역 시간에 크기 고정, 번역 시간 할당
* 변수의 수명 = 프로그램 실행 시간 전체
* Fortran 77에서의 변수의 영역 – 변수가 선언된 단위 프로그램에 국한
* 전역 변수 - COMMON 제공 (시스템 제공 활성 레코드로 간주)
* 지역 변수 - COMMON 이외의 모든 변수
* 모든 변수 - 오프셋 고정 (주소 대용)
* 링크 시 - 유효(effective) 주소 확정
* 프로그램 실행 전에 지역 변수들에 대한 초기값 한정 가능 (DATA문)


### 정적 기억장소 할당

##### 장점
* 구현용이, 간결함
* 효율적인 프로그램 실행

##### 단점
* 유연성(flexibility) 적음
→ 배열 크기 불변
→ recursion 불가
→ 활성화되지 않은 활성레코드 상주 (오류 처리 루틴 등)

##### 정적 변수( t ti i bl ) (static variable)
* 번역 시간에 크기 고정 (크기- 정적 바인딩)
* 번역 시간 할당 (정적 할당)


### 스택 기반 기억장소 할당 (= stack based storage allocation = 준 동적 할당)

##### 동적 기억 장소 할당
* Stack 할당 (for automatic allocation) (for automatic allocation)
* Heap 할당 (for dynamic allocation)
* 대부분의 컴파일러언어에서 사용 (블록 중심 언어)
→ ALGOL 60, Pascal, ALGOL 68, PL/I, Ada, C, C++, Java 등
* 인터프리터 언어 모두 사용
→ APL Lisp SNOBOL4 Prolog Smalltalk APL, Lisp, SNOBOL4, Prolog, Smalltalk

##### ALGOL 유사 언어 (ALGOL-like language)
* Algol 60의 영향을 크게 받아 설계된 언어
* 블록 개념을 도입(영역 단위) - 선언으로 새로운 환경 정의
* 단위 프로그램 : 블록, 부 프로그램
→ Block : 정상적인 프로그램 실행 과정에서 차례가 되었을 때 활성화
→ 부 프로그램 : 호출문에 의하여 호출되었을 때 활성화
* 할당 시 고려 사항 : 변수 수명, 단위 프로그램 활성시간, 참조 환경, 생성에 관한 규칙들
* 활성 레코드 크기 바인딩시간 : 번역 시간, 활성화 시점, 동적 변화
            
            
 
